<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Salem Media Map</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="styles.css">
<link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
<meta name='viewport' content='initial-scale=1,maximum-scale=1' />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
<script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
<link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.css' rel='stylesheet' />
<style>

body, html {
  margin:0;
  padding:0;
  height: 100%;
}

<!--CSS FOR MAP -->

#map-container {
            height: 70%;
            padding-bottom: 0px;
            margin: 0px;
}

#map {
        display: block;
        height: 60%;
        width: 50%;
        margin-left: auto;
        margin-right: auto;
}

.popup {
  text-align:center;
}

.popup .slideshow .image{
  display:none;
}

.popup .slideshow .image.active {
  display:block;
}

.popup .slideshow img {
  width:100%;
}

.popup .slideshow .caption {
  background:#eee;
  padding:10px;
}

.popup .cycle {
  padding:10px 0 20px;
}

.popup .cycle a.prev { float:left;
}

.popup .cycle a.next { float:right;
}

/* Adjustments to account for mapbox.css box-sizing rules */
.leaflet-control-zoomslider-knob { width:14px; height:6px; }
.leaflet-container .leaflet-control-zoomslider-body {
  -webkit-box-sizing:content-box;
     -moz-box-sizing:content-box;
          box-sizing:content-box;
  }

<!--End CSS for Map -->

</style>
</head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="index.html">Home</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link" href="leaflet.html">Leaflet Page</a>
      <a class="nav-item nav-link" href="minimap.html">Custom Map</a>
    </div>
  </div>
</nav>

<div id ="title"><h1>Salem Map Project</h1></div>
<br><div id="response">Placeholder</div></br>

      <div id='map'></div>
      <div id="map-container">

      <div id='map'></div>
      </div>


      <!-- API ACCESS FOR THE MAP -->
      <script src='https://code.jquery.com/jquery-1.11.0.min.js'></script>
      <script>
      L.mapbox.accessToken = 'pk.eyJ1IjoibWF0dGt2dyIsImEiOiJjbDFnZ2U5NDQwMDdrM2NzNGE2cDUweHJmIn0.yGwziSjRNI4CBMpl5Y2udg';
      var map = L.mapbox.map('map', 'mapbox.streets', {
        container: 'map',
      });

      var myLayer = L.mapbox.featureLayer().addTo(map);

      var geoJson = [{
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-70.8835, 42.5217]},
          "properties": {
              'title': 'House of Seven Gables',
              'marker-color': '#ad26f0',
              'marker-symbol': 'village',
              'marker-size': 'medium',

              // Store the image url and caption in an array.
              'images': [
                ['http://mattb.molloynewmedia.org/images/gables1.jpg','The House of Seven Gables was a home that Nathanial Hawthorne had stayed at when he was younger. Hawthornes novels were a major part in the popularization of Salem and the Witch Trials.']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-70.891800, 42.520900]},
          "properties": {
              'title': 'Salem Witch Trials Memorial',
              'marker-color': '#ad26f0',
              'marker-symbol': 'cemetery',
              'marker-size': 'medium',
              'images': [
                ['http://mattb.molloynewmedia.org/images/memorial1.jpg','The Salem Witch Trials memorial is dedicated to the victims of the witch trials. There are different stones that detail each of the victims names and their cause of death.'],
                ['http://mattb.molloynewmedia.org/images/memorial1.2pg','All of the victims suffered the same fate except for Giles Corey, who was pressed to death for refusing to go to trial so that the government could not take his property from his family after finding him guilty.']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-70.8989, 42.5215]},
          "properties": {
              'title': 'Witch House',
              'marker-color': '#ad26f0',
              'marker-symbol': 'village',
              'marker-size': 'medium',
              'images': [
                ['http://mattb.molloynewmedia.org/images/witchhouse.jpg','This black house was home to Jonathan Corwin, one of the judges that worked in the Salem Witch Trials.']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-70.909100, 42.517600]},
          "properties": {
              'title': 'Crevice',
              'marker-color': '#ad26f0',
              'marker-symbol': 'pharmacy',
              'marker-size': 'medium',
              'images': [
                ['http://mattb.molloynewmedia.org/images/ledge1.jpg','The Crevice is where the victims executed during the witch trials had their bodies dumped in afterwards.'],
                ['http://molloymediaarchaeology.org/images/ledge2.jpg','Until 2016, it was believed that the hangings occured at a different location called Gallows Hill. But, recent research has shown that the hangings actually happened here.'],
                ['http://mattb.molloynewmedia.org/images/ledge3.jpg','As the location was previously unknown, much of the crevice is actually built over. This includes many homes and even a Walgreens on site around the memorial.']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-70.8994, 42.5216]},
          "properties": {
              'title': 'First Church',
              'marker-color': '#ad26f0',
              'marker-symbol': 'religious-christian',
              'marker-size': 'medium',
              'images': [
                ['http://mattb.molloynewmedia.org/images/firstchurch.jpg','The First Church in Salem was finished being built in 1836. Religion played a major role in the witch trials, as the hysteria came from the belief that their neighbors were worshipping the devil.'],
                ['http://molloymediaarchaeology.org/images/grant_pole2.jpg','During the Salem Witch Trials, there was not a dedicated church building. People would meet at their neighbors house or at a town hall type building.']
              ]
          }
      }];

      // Add custom popup html to each marker.
      myLayer.on('layeradd', function(e) {
          var marker = e.layer;
          var feature = marker.feature;
          var images = feature.properties.images
          var slideshowContent = '';

          for(var i = 0; i < images.length; i++) {
              var img = images[i];

              slideshowContent += '<div class="image' + (i === 0 ? ' active' : '') + '">' +
                                    '<img src="' + img[0] + '" />' +
                                    '<div class="caption">' + img[1] + '</div>' +
                                  '</div>';
          }

          // Create custom popup content
          var popupContent =  '<div id="' + feature.properties.id + '" class="popup">' +
                                  '<h2>' + feature.properties.title + '</h2>' +
                                  '<div class="slideshow">' +
                                      slideshowContent +
                                  '</div>' +
                                  '<div class="cycle">' +
                                      '<a href="#" class="prev">&laquo; Previous</a>' +
                                      '<a href="#" class="next">Next &raquo;</a>' +
                                  '</div>'
                              '</div>';

          // http://leafletjs.com/reference.html#popup
          marker.bindPopup(popupContent,{
              closeButton: false,
              minWidth: 320
          });
      });

      // Add features to the map
      myLayer.setGeoJSON(geoJson);

      $('#map').on('click', '.popup .cycle a', function() {
          var $slideshow = $('.slideshow'),
              $newSlide;

          if ($(this).hasClass('prev')) {
              $newSlide = $slideshow.find('.active').prev();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').last();
              }
          } else {
              $newSlide = $slideshow.find('.active').next();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').first();
              }
          }

          $slideshow.find('.active').removeClass('active').hide();
          $newSlide.addClass('active').show();
          return false;
      });

      <!-- SET THE MAP VIEW HERE -->
      map.setView([42.52, -70.9], 15);
      </script>
      <br><p> Placeholder
      Placeholder </p></br>
    </div>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="scripts.js"></script>
</body>
</html>
